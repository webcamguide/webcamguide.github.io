<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-108869266-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-108869266-1');
	</script>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title>Стримим на chaturbate.com и cam4.com через OBS и nginx+rtmp</title>
	<style type="text/css">
		@page { margin: 0.79in }
		p { margin-bottom: 0.1in; line-height: 120% }
		pre.cjk { font-family: "NSimSun", monospace }
	</style>
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body lang="ru-RU" dir="ltr">
<pre class="western" style="text-align: left"><font color="#0066b3"><font size="4" style="font-size: 16pt"><b>Стримим на chaturbate.com и cam4.com через OBS и nginx+rtmp.</b></font></font>

<font size="3" style="font-size: 12pt"><span lang="ru-RU">Нам понадобится.</span></font>

<font size="3" style="font-size: 12pt"><span lang="ru-RU">OBS <a href="https://obsproject.com/">https://obsproject.com</a></span></font>

<font size="3" style="font-size: 12pt"><span lang="ru-RU">NginX + rtmp module под шиндовз. Скачать можно тут относительно свежую сборку <a href="https://github.com/illuspas/nginx-rtmp-win32">https://github.com/illuspas/nginx-rtmp-win32</a></span></font>

<font size="3" style="font-size: 12pt"><span lang="ru-RU">Бантники для стоп старта дернуть можно вот отсюда <a href="https://github.com/ZhaoliangGuo/nginx-rtmp-4-windows/tree/master/bin">https://github.com/ZhaoliangGuo/nginx-rtmp-4-windows/tree/master/bin</a></span></font>

<font size="3" style="font-size: 12pt"><span lang="ru-RU">Хотя я запускаю просто с консольки.</span></font>

<span lang="ru-RU"><font size="3" style="font-size: 12pt">Еще ссылки по теме:</font></span>

<a href="http://www.cam4support.com/category/broadcasting/"><font size="3" style="font-size: 12pt"><span lang="ru-RU">http://www.cam4support.com/category/broadcasting/</span></font></a>

<a href="https://support.chaturbate.com/customer/en/portal/articles/2820593-how-do-i-set-up-obs-"><font size="3" style="font-size: 12pt"><span lang="ru-RU">https://support.chaturbate.com/customer/en/portal/articles/2820593-how-do-i-set-up-obs-</span></font></a>

<a href="Step_2_configure_OBS_for_720_english.pdf"><font size="3" style="font-size: 12pt"><span lang="ru-RU">Мануал streamray (cams.com) #1</span></font></a>
<a href="Step_3_How_to_broadcast_in_720p_using_OBS_english.pdf"><font size="3" style="font-size: 12pt"><span lang="ru-RU">Мануал streamray (cams.com) #2</span></font></a>

<font size="3" style="font-size: 12pt"><span lang="ru-RU">---</span></font>

<font size="3" style="font-size: 12pt"><span lang="ru-RU">Дальше идут мои настройки OBS для разрешалова 640 x 480 (оно же 480p).<br/>У тебя оно может быть, и скорее будет, другим - 720p, 1080p и т.д.</span></font>

<img src="index_html_44cf9f8e022265cd.jpg" align="left" width="279" height="327">
  <br clear="left"/>
</img>

<img src="index_html_202b2699ec3f045a.jpg" align="left" width="552" height="269">
  <br clear="left"/>
</img>

<font size="3" style="font-size: 12pt"><span lang="ru-RU">Тут просто ставим наше желаемое разрешалово. Я ставлю такое в каком передает дроидкам, ибо юзаю мобилочку как камеру.</span></font>

<font size="3" style="font-size: 12pt; text-decoration:line-through"><span lang="ru-RU">Если надо то про мобилочку в качестве камеры напишу отдельно. Все ж пижже качество чем от всратой камеры ноута.</span></font>

<font size="3" style="font-size: 12pt"><span lang="ru-RU"><strong>UPD 13.11.2017</strong><br/>На данный момент у меня <a href="android-webcam.html">такое</a> решение с вебкой.<br/><strong>---</strong></span></font>

<font size="3" style="font-size: 12pt"><span lang="ru-RU">Про частоту кадров я не уверен в настройках. Но ебанул как на скринах в хелпе от cam4.</span></font>


<img src="index_html_96073bc5ecff339.jpg" align="left" width="642" height="286">
  <br clear="left"/>
</img>


<img src="index_html_a9d8dcb82b5f40d1.jpg" align="left" width="642" height="280">
  <br clear="left"/>
</img>

<font size="3" style="font-size: 12pt; text-decoration:line-through"><span lang="ru-RU">Кодек этот ставить конечно пижже всего. Он аппаратный, и не ебет ваш проц. Ну если совсем днищекомп то скорее всего он будет недоступен,<br/>я особо в этом не шарю, мб потом дополню эту часть.</span></font>

<font size="3" style="font-size: 12pt"><span lang="ru-RU"><strong>UPD 10.11.2017</strong><br/>По поводу кодировщиков и того что мне удалось нагуглить. Они бывают програмными (x264) - дают лучшее качество но жрут процессор сильно,<br/>и аппаратные (QuickSync на процах интел, и еще есть на видеокартах амуде - h.264/avc, <a href="https://obsproject.com/forum/resources/amd-advanced-media-framework-encoder-plugin-for-obs-studio.427/">тут</a> какой-то плагин есть для этого,<br/>но у меня на буке чот не хотит запускаться, и на нвидиа - NVENC). Аппаратные кодировщики жертвуют качеством ради производительности.<br/>Но мы тут не видео обрабатываем, а сиськи письки стримим, потому для нас это идеальный вариант.<br/>В общем, если у вас доступен для выбора только x264 - то особого смысла использовать OBS я не вижу, так как уже на 720p<br/>и пресете faster или fast нагрузка на проц у меня была в районе 60-70%.<br/>Хотя с другой стороны, скорее всего качество картинки будет пижже чем при использовании обычного флешплеерного кодировщика.<br/><br/>Опять же, можно поиграться с этими пресетами и добиться вменяемого качества и не такой большой нагрузки на проц.<br/>Но мне если чесно даже лень в этом ковыряться, что бы вам тут все порасписывать.<br/>
Сейчас настройки у меня выглядят так:<br/>Немного добавил битрейта согласно хелпам сайтов и выставил куолити вместо балансед.<br/><br/><img src="2017-11-10 17_05_44-obs.png" align="left" border="0"/>
  <br clear="left"/>
</img><strong>---</strong></span></font>

<font size="3" style="font-size: 12pt"><span lang="ru-RU">Битрейт для вашего разрешалова берем отсюда (с хелпа чатура).</span></font>

<img src="index_html_636a3043737054e1.jpg" align="left" width="604" height="139" border="0"/>
  <br clear="left"/>
</img>
<font size="3" style="font-size: 12pt"><span lang="ru-RU">Аудио битрейт я по дефолту оставил 160, и как бы похуй.</span></font>


<img src="index_html_964fa619c533dda5.jpg" align="left" width="642" height="111">
  <br clear="left"/>
</img>

<font size="3" style="font-size: 12pt"><span lang="ru-RU">/streams это то что в конфиге указано. Токен &mdash; любой.</span></font>

<font size="3" style="font-size: 12pt"><span lang="ru-RU">Мой конфиг nginx - <a href="https://pastebin.com/GjypZs84">https://pastebin.com/GjypZs84</a></span></font>

<font size="3" style="font-size: 12pt"><span lang="ru-RU"><b>Обратите внимание на хуйню для cam4</b>.В каментах конфига я написал и еще раз здесь продублирую.<br/>Без flashVer="FMLE/3.0" cam4 у меня напрочь отказывался работать.</span></font>

<font size="3" style="font-size: 12pt"><span lang="ru-RU">Обсуждаем мою писанину здесь - <a href="https://2ch.hk/wrk/res/1093466.html">https://2ch.hk/wrk/res/1093466.htm</a></span></font>

<font size="3" style="font-size: 12pt"><span lang="ru-RU">Если хочется задать вопрос здесь и сейчас - у меня есть <a href="contacts.html
">jabber</a></span></font>

</body>
</html>